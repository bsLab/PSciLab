[{"Config":{"clearAuto":true,"group":"anonymous","mode":"javascript","file":"workbook.plot.image","thisthat":true,"turbo":true,"user":"wevigamu","docUrl":"localhost:5558","projUrl":"192.168.0.45:5550","webclipTime":300,"webclipUrl":"localhost:9176","webxUrl":"localhost:9177","modules":[],"workdir":"/home/sbosse/proj/workbook","wex":{"http":"http://localhost:11111","ws":"ws://localhost:11112"}}},{"Notes":[]},{},{"options":{"eval":"_PxEnUf_ZnVuY3Rpb24gKHRleHQsZW52KSB7CiAgICAgICAgICAgICBqc1Njb3BlLnJ1bih0ZXh0LGVudikKICAgICAgICAgIH0=","mode":"javascript","label":"code0","heightC":100,"heightE":10,"collapsed":false},"code":"load('math.plugin')\nload('image.plugin')"},{"options":{"eval":"_PxEnUf_ZnVuY3Rpb24gKHRleHQsZW52KSB7CiAgICAgICAgICAgICBqc1Njb3BlLnJ1bih0ZXh0LGVudikKICAgICAgICAgIH0=","mode":"javascript","label":"Read PNG image, Plot RGBA8 Image","heightC":100,"heightE":100,"collapsed":false,"overlay":false,"evalUser":"undefined"},"code":"var data = await FS.load('/home/sbosse/proj/workbook/examples/plots','test.png','binary');\nif (data.status==0) data.data=Buffer.from(data.reply,'binary');\nprint(typeOf(data),data.reply.length,data.status)\nvar png = ImageUtils.png.decode(data.data)\nprint(png.width,png.height,png.depth,typeOf(png))\nvar image = {\n  width:png.width,\n  height:png.height,\n  depth:4,\n  data:ImageUtils.png.toRGBA8(png)[0]\n}\nprint(typeOf(image))\nPlot(image,{type:'image'})\nexport { image }"},{"options":{"eval":"_PxEnUf_ZnVuY3Rpb24gKHRleHQsZW52KSB7CiAgICAgICAgICAgICBqc1Njb3BlLnJ1bih0ZXh0LGVudikKICAgICAgICAgIH0=","mode":"javascript","label":"Sub-Image Extraction and Plot","heightC":100,"heightE":100,"collapsed":false,"overlay":false,"evalUser":"undefined"},"code":"import { image }\nvar matfromImage=Math.MatrixTA.fromImage(image);\nprint('matfromImage',matfromImage.info())\nvar matSub = matfromImage.subMatrixRange([80,170],[100,300],[]);\nprint('matSub',matSub.info())\nvar matimgSub = Math.MatrixTA.toImage(matSub);\nprint('matimgSub',typeOf(matimgSub))\nvar imgSub = {\n  width:matSub.columns,\n  height:matSub.rows,\n  depth:4,\n  data:matimgSub\n}\nprint('imgSub',typeOf(imgSub))\nPlot(imgSub,{type:'image'})"},{"options":{"label":"terminal0","height":20},"shell":true}]